<?php/** * Created by PhpStorm. * User: chayton * Date: 2017/1/30 * Time: 下午2:27 */namespace App\Models\DGJY;use Illuminate\Database\Eloquent\Model;use DB;class Collect extends Model{    protected $table = 'get_dgjy_collect';    public $timestamps = false;    public function getRelate($Rtable,$Rwhere,Array $where,$fields=array('*')){        try{            $model = DB::table('get_dgjy_collect as get');            $model = $model->leftJoin($Rtable,array_keys($Rwhere),array_values($Rwhere));            $model = $model->select($fields);            foreach($where as $key=>$value){                $model = $model->where($key,$value);            }            return $model = $model->get();        }catch (\Exception $e){echo $e->getMessage();            return false;        }    }}